{"version":3,"file":"index.js","names":["React","_interopRequireWildcard","require","_inlineStylePrefixer","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","fillStyle","position","top","left","right","bottom","baseViewStyle","display","verticalAlign","whiteSpace","width","defaultProps","animateHeight","transitionDuration","transitionTimingFunction","keepViewsMounted","prefixer","prefix","style","viewportStyle","rtl","spacing","exports","applyDefaults","props","result","ViewSlider","Component","state","height","undefined","transitioning","activeView","numViews","prevActiveView","root","viewport","views","timeouts","lastProps","lastDefaultedProps","getDefaultedProps","measureHeight","node","clientHeight","setTimeout","name","callback","delay","clearTimeout","componentDidUpdate","newState","i","length","view","scrollTop","Math","max","finalNewState","setState","onTransitionEnd","event","target","onSlideTransitionEnd","componentWillUnmount","getTransitionState","childIndex","renderView","index","fillParent","viewStyle","innerViewWrapperStyle","assign","overflow","marginRight","marginLeft","createElement","ref","c","active","transitionState","rootRef","viewportRef","render","className","viewportClassName","finalOuterStyle","transitionProperty","finalViewportStyle","transform","minHeight","direction","transition"],"sources":["src/index.tsx"],"sourcesContent":["/* @flow */\n/* eslint-env browser */\n\nimport * as React from 'react'\nimport { prefix, Prefix as Prefixer } from 'inline-style-prefixer'\n\ntype TransitionState = 'in' | 'out' | 'entering' | 'leaving'\n\nexport type ViewProps = {\n  index: number\n  active: boolean\n  transitionState: TransitionState\n}\n\nexport type DefaultProps = {\n  animateHeight: boolean\n  keepViewsMounted: boolean\n  transitionDuration: number\n  transitionTimingFunction: string\n  prefixer: Prefixer\n  style: Record<string, any>\n  viewportStyle: Record<string, any>\n  rtl: boolean\n  spacing: number\n}\n\nexport type Props = {\n  activeView: number\n  numViews: number\n  renderView: (props: ViewProps) => React.ReactNode\n  keepViewsMounted?: boolean\n  animateHeight?: boolean\n  transitionDuration?: number\n  transitionTimingFunction?: string\n  onSlideTransitionEnd?: () => unknown\n  prefixer?: Prefixer\n  fillParent?: boolean\n  className?: string\n  style?: Record<string, any>\n  viewportClassName?: string\n  viewportStyle?: Record<string, any>\n  viewStyle?: Record<string, any>\n  innerViewWrapperStyle?: Record<string, any>\n  rootRef?: (node: React.ElementRef<'div'>) => unknown\n  viewportRef?: (node: React.ElementRef<'div'>) => unknown\n  rtl?: boolean\n  spacing?: number\n}\n\ntype DefaultedProps = {\n  activeView: number\n  numViews: number\n  renderView: (props: ViewProps) => React.ReactNode\n  keepViewsMounted: boolean\n  animateHeight: boolean\n  transitionDuration: number\n  transitionTimingFunction: string\n  prefixer: Prefixer\n  fillParent?: boolean\n  className?: string\n  style: Record<string, any>\n  viewportClassName?: string\n  viewportStyle: Record<string, any>\n  viewStyle?: Record<string, any>\n  innerViewWrapperStyle?: Record<string, any>\n  rootRef?: (node: React.ElementRef<'div'> | null) => unknown\n  viewportRef?: (node: React.ElementRef<'div'> | null) => unknown\n  rtl: boolean\n  spacing: number\n}\n\nexport type State = {\n  height?: number\n  transitioning: boolean\n  activeView: number\n  numViews: number\n  prevActiveView?: number\n}\n\nconst fillStyle = {\n  position: 'absolute',\n  top: 0,\n  left: 0,\n  right: 0,\n  bottom: 0,\n}\n\nconst baseViewStyle = {\n  display: 'inline-block',\n  verticalAlign: 'top',\n  whiteSpace: 'normal',\n  width: '100%',\n}\n\nexport const defaultProps: DefaultProps = {\n  animateHeight: true,\n  transitionDuration: 500,\n  transitionTimingFunction: 'ease',\n  keepViewsMounted: false,\n  prefixer: prefix,\n  style: {},\n  viewportStyle: {},\n  rtl: false,\n  spacing: 1,\n}\n\nfunction applyDefaults(props: Props): DefaultedProps {\n  const result: any = { ...props }\n  for (const key in defaultProps) {\n    if (\n      Object.prototype.hasOwnProperty.call(defaultProps, key) &&\n      (props as any)[key] == null\n    ) {\n      result[key] = (defaultProps as any)[key]\n    }\n  }\n  return result\n}\n\nexport default class ViewSlider extends React.Component<Props, State> {\n  state: State = {\n    height: undefined,\n    transitioning: false,\n    activeView: this.props.activeView,\n    numViews: this.props.numViews,\n    // this is used to determine the correct transitionState for the previous active view.\n    prevActiveView: undefined,\n  }\n  root: HTMLDivElement | undefined\n  viewport: HTMLDivElement | undefined\n  views: Array<HTMLElement | undefined> = []\n  timeouts: { [name: string]: any } = {}\n  lastProps: Props = this.props\n  lastDefaultedProps: DefaultedProps | undefined\n\n  getDefaultedProps = (): DefaultedProps => {\n    if (this.lastProps !== this.props || !this.lastDefaultedProps) {\n      this.lastProps = this.props\n      this.lastDefaultedProps = applyDefaults(this.props)\n    }\n    return this.lastDefaultedProps\n  }\n\n  measureHeight = (node: HTMLElement | undefined): number | undefined => {\n    if (!node) return undefined\n    return node.clientHeight\n  }\n\n  setTimeout(name: string, callback: () => any, delay: number) {\n    if (this.timeouts[name]) clearTimeout(this.timeouts[name])\n    this.timeouts[name] = setTimeout(callback, delay)\n  }\n\n  componentDidUpdate() {\n    const { activeView, transitionDuration, keepViewsMounted } =\n      this.getDefaultedProps()\n    let newState: Partial<State> | undefined\n\n    if (\n      activeView !== this.state.activeView &&\n      this.state.height === undefined\n    ) {\n      if (keepViewsMounted) {\n        // scroll all views except the current back to the top\n        for (let i = 0; i < this.views.length; i++) {\n          if (i === this.state.activeView) continue\n          const view = this.views[i]\n          if (view) view.scrollTop = 0\n        }\n      }\n      // phase 1: set current height\n      newState = {\n        height: this.measureHeight(this.views[this.state.activeView]),\n      }\n    } else if (this.state.height !== undefined && !this.state.transitioning) {\n      // phase 2: enable transitions\n      newState = { transitioning: true }\n    } else if (activeView !== this.state.activeView) {\n      // phase 3: change height/activeView\n      newState = {\n        activeView,\n        numViews: Math.max(this.state.numViews, activeView + 1),\n        prevActiveView: this.state.activeView,\n        height: this.measureHeight(this.views[activeView]),\n      }\n    }\n\n    const finalNewState = newState\n    if (!finalNewState) return\n\n    this.setState({ ...this.state, ...finalNewState }, () => {\n      if (finalNewState.activeView != null) {\n        this.setTimeout(\n          'onTransitionEnd',\n          this.onTransitionEnd,\n          transitionDuration\n        )\n      }\n    })\n  }\n\n  onTransitionEnd = (event?: React.TransitionEvent<HTMLDivElement>) => {\n    // ignore transitionend events from deeper components\n    if (event && event.target !== this.viewport) return\n    // phase 0: unset height and disable transitions\n    this.setState(\n      {\n        height: undefined,\n        numViews: this.props.numViews,\n        prevActiveView: undefined,\n        transitioning: false,\n      },\n      () => {\n        const { onSlideTransitionEnd } = this.props\n        if (onSlideTransitionEnd) onSlideTransitionEnd()\n      }\n    )\n  }\n\n  componentWillUnmount() {\n    for (const name in this.timeouts) clearTimeout(this.timeouts[name])\n  }\n\n  getTransitionState: (childIndex: number) => TransitionState = (\n    childIndex: number\n  ): TransitionState => {\n    const { activeView, prevActiveView } = this.state\n    if (prevActiveView == null) return childIndex === activeView ? 'in' : 'out'\n    if (childIndex === activeView) return 'entering'\n    if (childIndex === prevActiveView) return 'leaving'\n    return 'out'\n  }\n\n  renderView = (index: number): React.ReactNode => {\n    const {\n      fillParent,\n      prefixer,\n      keepViewsMounted,\n      spacing,\n      rtl,\n      viewStyle,\n      innerViewWrapperStyle,\n    } = this.getDefaultedProps()\n    const { activeView, transitioning } = this.state\n\n    const style: any = { ...baseViewStyle, ...viewStyle }\n    if (fillParent) {\n      Object.assign(style, fillStyle)\n      style.overflow = 'auto'\n      if (rtl) style.right = `${index * spacing * 100}%`\n      else style.left = `${index * spacing * 100}%`\n    } else if (index > 0) {\n      if (rtl) style.marginRight = `${(spacing - 1) * 100}%`\n      else style.marginLeft = `${(spacing - 1) * 100}%`\n    }\n\n    // when not transitioning, render empty placeholder divs before the active view to push it into the right\n    // horizontal position\n    if (!transitioning && activeView !== index && !keepViewsMounted) {\n      return <div key={index} style={prefixer(style)} />\n    }\n    return (\n      <div\n        key={index}\n        style={prefixer(style)}\n        ref={(c) => (this.views[index] = c ?? undefined)}\n      >\n        <div style={prefixer({ width: '100%', ...innerViewWrapperStyle })}>\n          {this.props.renderView({\n            index,\n            active: index === activeView,\n            transitionState: this.getTransitionState(index),\n          })}\n        </div>\n      </div>\n    )\n  }\n\n  animateHeight = (): boolean => {\n    const { animateHeight, fillParent, keepViewsMounted } =\n      this.getDefaultedProps()\n    return animateHeight && !fillParent && !keepViewsMounted\n  }\n\n  rootRef = (node: React.ElementRef<'div'> | null) => {\n    this.root = node ?? undefined\n    const { rootRef } = this.getDefaultedProps()\n    if (rootRef) rootRef(node)\n  }\n  viewportRef = (node: React.ElementRef<'div'> | null) => {\n    this.viewport = node ?? undefined\n    const { viewportRef } = this.getDefaultedProps()\n    if (viewportRef) viewportRef(node)\n  }\n\n  render(): React.ReactElement<'div'> {\n    const {\n      style,\n      className,\n      viewportClassName,\n      viewportStyle,\n      prefixer,\n      fillParent,\n      transitionDuration,\n      transitionTimingFunction,\n      keepViewsMounted,\n      rtl,\n      spacing,\n    } = this.getDefaultedProps()\n    const animateHeight = this.animateHeight()\n    const { activeView, numViews, height, transitioning } = this.state\n\n    const finalOuterStyle = {\n      transitionProperty: 'height',\n      transitionDuration: `${transitionDuration}ms`,\n      transitionTimingFunction,\n      overflow: 'hidden',\n      height: animateHeight && height != null ? height : undefined,\n      ...style,\n    }\n\n    const finalViewportStyle = {\n      position: 'relative',\n      transform: `translateX(calc(${\n        activeView * spacing * (rtl ? 100 : -100)\n      }% + 0px))`,\n      whiteSpace: 'nowrap',\n      minHeight: '100%',\n      direction: rtl ? 'rtl' : 'ltr',\n      transition: transitioning\n        ? `transform ${transitionTimingFunction} ${transitionDuration}ms`\n        : undefined,\n      ...viewportStyle,\n    }\n    if (fillParent) {\n      Object.assign(finalOuterStyle, fillStyle)\n      Object.assign(finalViewportStyle, fillStyle)\n    }\n\n    // when not transitioning, render empty placeholder divs before the active view to push it into the right\n    // horizontal position\n    const views: React.ReactNode[] = []\n    for (\n      let i = 0;\n      i < (transitioning || keepViewsMounted ? numViews : activeView + 1);\n      i++\n    ) {\n      views[i] = this.renderView(i)\n    }\n\n    return (\n      <div\n        style={prefixer(finalOuterStyle)}\n        className={className}\n        ref={this.rootRef}\n      >\n        <div\n          className={viewportClassName}\n          style={prefixer(finalViewportStyle) as any}\n          ref={this.viewportRef}\n          onTransitionEnd={this.onTransitionEnd}\n        >\n          {views}\n        </div>\n      </div>\n    )\n  }\n}\n"],"mappings":"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"}
