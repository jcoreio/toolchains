{"version":3,"file":"index.js","names":["React","_interopRequireWildcard","require","_inlineStylePrefixer","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","_typeof","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf2","result","NewTarget","constructor","Reflect","construct","arguments","apply","_possibleConstructorReturn2","sham","Proxy","Boolean","valueOf","e","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","enumerable","push","_objectSpread","target","i","length","source","forEach","_defineProperty2","getOwnPropertyDescriptors","defineProperties","fillStyle","position","top","left","right","bottom","baseViewStyle","display","verticalAlign","whiteSpace","width","defaultProps","animateHeight","transitionDuration","transitionTimingFunction","keepViewsMounted","prefixer","prefix","style","viewportStyle","rtl","spacing","exports","applyDefaults","props","ViewSlider","_React$Component","_inherits2","_super","_this","_classCallCheck2","_len","args","Array","_key","concat","_assertThisInitialized2","height","undefined","transitioning","activeView","numViews","prevActiveView","lastProps","lastDefaultedProps","node","clientHeight","event","viewport","setState","onSlideTransitionEnd","childIndex","_this$state","state","index","_this$getDefaultedPro","getDefaultedProps","fillParent","viewStyle","innerViewWrapperStyle","_this$state2","assign","overflow","marginRight","marginLeft","createElement","ref","c","views","renderView","active","transitionState","getTransitionState","_this$getDefaultedPro2","root","_this$getDefaultedPro3","rootRef","_this$getDefaultedPro4","viewportRef","_createClass2","value","_setTimeout","setTimeout","_x","_x2","_x3","toString","name","callback","delay","timeouts","clearTimeout","componentDidUpdate","_this2","_this$getDefaultedPro5","newState","view","scrollTop","measureHeight","Math","max","finalNewState","onTransitionEnd","componentWillUnmount","render","_this$getDefaultedPro6","className","viewportClassName","_this$state3","finalOuterStyle","transitionProperty","finalViewportStyle","transform","minHeight","direction","transition","Component"],"sources":["src/index.tsx"],"sourcesContent":["/* @flow */\n/* eslint-env browser */\n\nimport * as React from 'react'\nimport { prefix, Prefix as Prefixer } from 'inline-style-prefixer'\n\ntype TransitionState = 'in' | 'out' | 'entering' | 'leaving'\n\nexport type ViewProps = {\n  index: number\n  active: boolean\n  transitionState: TransitionState\n}\n\nexport type DefaultProps = {\n  animateHeight: boolean\n  keepViewsMounted: boolean\n  transitionDuration: number\n  transitionTimingFunction: string\n  prefixer: Prefixer\n  style: Record<string, any>\n  viewportStyle: Record<string, any>\n  rtl: boolean\n  spacing: number\n}\n\nexport type Props = {\n  activeView: number\n  numViews: number\n  renderView: (props: ViewProps) => React.ReactNode\n  keepViewsMounted?: boolean\n  animateHeight?: boolean\n  transitionDuration?: number\n  transitionTimingFunction?: string\n  onSlideTransitionEnd?: () => unknown\n  prefixer?: Prefixer\n  fillParent?: boolean\n  className?: string\n  style?: Record<string, any>\n  viewportClassName?: string\n  viewportStyle?: Record<string, any>\n  viewStyle?: Record<string, any>\n  innerViewWrapperStyle?: Record<string, any>\n  rootRef?: (node: React.ElementRef<'div'>) => unknown\n  viewportRef?: (node: React.ElementRef<'div'>) => unknown\n  rtl?: boolean\n  spacing?: number\n}\n\ntype DefaultedProps = {\n  activeView: number\n  numViews: number\n  renderView: (props: ViewProps) => React.ReactNode\n  keepViewsMounted: boolean\n  animateHeight: boolean\n  transitionDuration: number\n  transitionTimingFunction: string\n  prefixer: Prefixer\n  fillParent?: boolean\n  className?: string\n  style: Record<string, any>\n  viewportClassName?: string\n  viewportStyle: Record<string, any>\n  viewStyle?: Record<string, any>\n  innerViewWrapperStyle?: Record<string, any>\n  rootRef?: (node: React.ElementRef<'div'> | null) => unknown\n  viewportRef?: (node: React.ElementRef<'div'> | null) => unknown\n  rtl: boolean\n  spacing: number\n}\n\nexport type State = {\n  height?: number\n  transitioning: boolean\n  activeView: number\n  numViews: number\n  prevActiveView?: number\n}\n\nconst fillStyle = {\n  position: 'absolute',\n  top: 0,\n  left: 0,\n  right: 0,\n  bottom: 0,\n}\n\nconst baseViewStyle = {\n  display: 'inline-block',\n  verticalAlign: 'top',\n  whiteSpace: 'normal',\n  width: '100%',\n}\n\nexport const defaultProps: DefaultProps = {\n  animateHeight: true,\n  transitionDuration: 500,\n  transitionTimingFunction: 'ease',\n  keepViewsMounted: false,\n  prefixer: prefix,\n  style: {},\n  viewportStyle: {},\n  rtl: false,\n  spacing: 1,\n}\n\nfunction applyDefaults(props: Props): DefaultedProps {\n  const result: any = { ...props }\n  for (const key in defaultProps) {\n    if (\n      Object.prototype.hasOwnProperty.call(defaultProps, key) &&\n      (props as any)[key] == null\n    ) {\n      result[key] = (defaultProps as any)[key]\n    }\n  }\n  return result\n}\n\nexport default class ViewSlider extends React.Component<Props, State> {\n  state: State = {\n    height: undefined,\n    transitioning: false,\n    activeView: this.props.activeView,\n    numViews: this.props.numViews,\n    // this is used to determine the correct transitionState for the previous active view.\n    prevActiveView: undefined,\n  }\n  root: HTMLDivElement | undefined\n  viewport: HTMLDivElement | undefined\n  views: Array<HTMLElement | undefined> = []\n  timeouts: { [name: string]: any } = {}\n  lastProps: Props = this.props\n  lastDefaultedProps: DefaultedProps | undefined\n\n  getDefaultedProps = (): DefaultedProps => {\n    if (this.lastProps !== this.props || !this.lastDefaultedProps) {\n      this.lastProps = this.props\n      this.lastDefaultedProps = applyDefaults(this.props)\n    }\n    return this.lastDefaultedProps\n  }\n\n  measureHeight = (node: HTMLElement | undefined): number | undefined => {\n    if (!node) return undefined\n    return node.clientHeight\n  }\n\n  setTimeout(name: string, callback: () => any, delay: number) {\n    if (this.timeouts[name]) clearTimeout(this.timeouts[name])\n    this.timeouts[name] = setTimeout(callback, delay)\n  }\n\n  componentDidUpdate() {\n    const { activeView, transitionDuration, keepViewsMounted } =\n      this.getDefaultedProps()\n    let newState: Partial<State> | undefined\n\n    if (\n      activeView !== this.state.activeView &&\n      this.state.height === undefined\n    ) {\n      if (keepViewsMounted) {\n        // scroll all views except the current back to the top\n        for (let i = 0; i < this.views.length; i++) {\n          if (i === this.state.activeView) continue\n          const view = this.views[i]\n          if (view) view.scrollTop = 0\n        }\n      }\n      // phase 1: set current height\n      newState = {\n        height: this.measureHeight(this.views[this.state.activeView]),\n      }\n    } else if (this.state.height !== undefined && !this.state.transitioning) {\n      // phase 2: enable transitions\n      newState = { transitioning: true }\n    } else if (activeView !== this.state.activeView) {\n      // phase 3: change height/activeView\n      newState = {\n        activeView,\n        numViews: Math.max(this.state.numViews, activeView + 1),\n        prevActiveView: this.state.activeView,\n        height: this.measureHeight(this.views[activeView]),\n      }\n    }\n\n    const finalNewState = newState\n    if (!finalNewState) return\n\n    this.setState({ ...this.state, ...finalNewState }, () => {\n      if (finalNewState.activeView != null) {\n        this.setTimeout(\n          'onTransitionEnd',\n          this.onTransitionEnd,\n          transitionDuration\n        )\n      }\n    })\n  }\n\n  onTransitionEnd = (event?: React.TransitionEvent<HTMLDivElement>) => {\n    // ignore transitionend events from deeper components\n    if (event && event.target !== this.viewport) return\n    // phase 0: unset height and disable transitions\n    this.setState(\n      {\n        height: undefined,\n        numViews: this.props.numViews,\n        prevActiveView: undefined,\n        transitioning: false,\n      },\n      () => {\n        const { onSlideTransitionEnd } = this.props\n        if (onSlideTransitionEnd) onSlideTransitionEnd()\n      }\n    )\n  }\n\n  componentWillUnmount() {\n    for (const name in this.timeouts) clearTimeout(this.timeouts[name])\n  }\n\n  getTransitionState: (childIndex: number) => TransitionState = (\n    childIndex: number\n  ): TransitionState => {\n    const { activeView, prevActiveView } = this.state\n    if (prevActiveView == null) return childIndex === activeView ? 'in' : 'out'\n    if (childIndex === activeView) return 'entering'\n    if (childIndex === prevActiveView) return 'leaving'\n    return 'out'\n  }\n\n  renderView = (index: number): React.ReactNode => {\n    const {\n      fillParent,\n      prefixer,\n      keepViewsMounted,\n      spacing,\n      rtl,\n      viewStyle,\n      innerViewWrapperStyle,\n    } = this.getDefaultedProps()\n    const { activeView, transitioning } = this.state\n\n    const style: any = { ...baseViewStyle, ...viewStyle }\n    if (fillParent) {\n      Object.assign(style, fillStyle)\n      style.overflow = 'auto'\n      if (rtl) style.right = `${index * spacing * 100}%`\n      else style.left = `${index * spacing * 100}%`\n    } else if (index > 0) {\n      if (rtl) style.marginRight = `${(spacing - 1) * 100}%`\n      else style.marginLeft = `${(spacing - 1) * 100}%`\n    }\n\n    // when not transitioning, render empty placeholder divs before the active view to push it into the right\n    // horizontal position\n    if (!transitioning && activeView !== index && !keepViewsMounted) {\n      return <div key={index} style={prefixer(style)} />\n    }\n    return (\n      <div\n        key={index}\n        style={prefixer(style)}\n        ref={(c) => (this.views[index] = c ?? undefined)}\n      >\n        <div style={prefixer({ width: '100%', ...innerViewWrapperStyle })}>\n          {this.props.renderView({\n            index,\n            active: index === activeView,\n            transitionState: this.getTransitionState(index),\n          })}\n        </div>\n      </div>\n    )\n  }\n\n  animateHeight = (): boolean => {\n    const { animateHeight, fillParent, keepViewsMounted } =\n      this.getDefaultedProps()\n    return animateHeight && !fillParent && !keepViewsMounted\n  }\n\n  rootRef = (node: React.ElementRef<'div'> | null) => {\n    this.root = node ?? undefined\n    const { rootRef } = this.getDefaultedProps()\n    if (rootRef) rootRef(node)\n  }\n  viewportRef = (node: React.ElementRef<'div'> | null) => {\n    this.viewport = node ?? undefined\n    const { viewportRef } = this.getDefaultedProps()\n    if (viewportRef) viewportRef(node)\n  }\n\n  render(): React.ReactElement<'div'> {\n    const {\n      style,\n      className,\n      viewportClassName,\n      viewportStyle,\n      prefixer,\n      fillParent,\n      transitionDuration,\n      transitionTimingFunction,\n      keepViewsMounted,\n      rtl,\n      spacing,\n    } = this.getDefaultedProps()\n    const animateHeight = this.animateHeight()\n    const { activeView, numViews, height, transitioning } = this.state\n\n    const finalOuterStyle = {\n      transitionProperty: 'height',\n      transitionDuration: `${transitionDuration}ms`,\n      transitionTimingFunction,\n      overflow: 'hidden',\n      height: animateHeight && height != null ? height : undefined,\n      ...style,\n    }\n\n    const finalViewportStyle = {\n      position: 'relative',\n      transform: `translateX(calc(${\n        activeView * spacing * (rtl ? 100 : -100)\n      }% + 0px))`,\n      whiteSpace: 'nowrap',\n      minHeight: '100%',\n      direction: rtl ? 'rtl' : 'ltr',\n      transition: transitioning\n        ? `transform ${transitionTimingFunction} ${transitionDuration}ms`\n        : undefined,\n      ...viewportStyle,\n    }\n    if (fillParent) {\n      Object.assign(finalOuterStyle, fillStyle)\n      Object.assign(finalViewportStyle, fillStyle)\n    }\n\n    // when not transitioning, render empty placeholder divs before the active view to push it into the right\n    // horizontal position\n    const views: React.ReactNode[] = []\n    for (\n      let i = 0;\n      i < (transitioning || keepViewsMounted ? numViews : activeView + 1);\n      i++\n    ) {\n      views[i] = this.renderView(i)\n    }\n\n    return (\n      <div\n        style={prefixer(finalOuterStyle)}\n        className={className}\n        ref={this.rootRef}\n      >\n        <div\n          className={viewportClassName}\n          style={prefixer(finalViewportStyle) as any}\n          ref={this.viewportRef}\n          onTransitionEnd={this.onTransitionEnd}\n        >\n          {views}\n        </div>\n      </div>\n    )\n  }\n}\n"],"mappings":"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"}
